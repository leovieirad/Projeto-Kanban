<!DOCTYPE html>
<html lang="pt-BR">
<head>
  {% load static %}
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Boardly</title>
  <link rel="stylesheet" href="{% static 'boards/styles.css' %}">
</head>

<body>

<header class="top-nav">

  <a href="{% url 'boards:list' %}" class="brand-logo">Boardly</a>

  <nav>
    <a href="{% url 'boards:list' %}">Quadros</a>
    {% if user.is_authenticated %}
      <span style="margin: 0 0.5rem; color: #666;">|</span>
      <a href="{% url 'boards:profile' %}" style="color: var(--primary); font-size: 0.9rem; text-decoration: none;">ðŸ‘¤ {{ user.first_name|default:user.username }}</a>
      <a href="{% url 'boards:logout' %}" style="color: #e74c3c;">Sair</a>
    {% endif %}
  </nav>

  <!-- Novo Switch -->
<label class="theme-switch">
  <input type="checkbox" class="theme-switch__checkbox" id="dark-mode-toggle">
  <div class="theme-switch__container">
    <div class="theme-switch__circle-container">
      <div class="theme-switch__sun-moon-container">
        <div class="theme-switch__moon">
          <div class="theme-switch__spot"></div>
          <div class="theme-switch__spot"></div>
          <div class="theme-switch__spot"></div>
        </div>
      </div>
    </div>
    <div class="theme-switch__clouds"></div>
    <div class="theme-switch__stars-container">
      <span class="star star-1">âœ¦</span>
      <span class="star star--2">âœ¦</span>
      <span class="star star--3">âœ¦</span>
      <span class="star star--4">âœ¦</span>
      <span class="star star--5">âœ¦</span>
      <span class="star star--6">âœ¦</span>
      <span class="star star--7">âœ¦</span>
      <span class="star star--8">âœ¦</span>
    </div>
  </div>
</label>


</header>

<!-- NotificaÃ§Ãµes -->
<div class="floating-toast" aria-live="polite" aria-atomic="true">
  {% if messages %}
    {% for message in messages %}
      <div class="toast-item {{ message.tags }}">{{ message }}</div>
    {% endfor %}
  {% endif %}
</div>

{% block content %}{% endblock %}

<script src="{% static 'boards/theme.js' %}"></script>

<!-- Desaparecer notificaÃ§Ãµes -->
<script>
document.addEventListener('DOMContentLoaded', function () {
    const toasts = document.querySelectorAll('.toast-item');

    toasts.forEach(toast => {
        // Tempo atÃ© comeÃ§ar a desaparecer (ms)
        const timeout = 2500;

        setTimeout(() => {
            toast.classList.add('fade-out');

            // Remove do DOM apÃ³s a animaÃ§Ã£o
            setTimeout(() => toast.remove(), 600);
        }, timeout);
    });
});
</script>
</body>
</html>
