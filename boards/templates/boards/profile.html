{% extends "boards/base.html" %}

{% block content %}
<div class="page">
  <div class="form-container" style="max-width: 640px;">
    <h1 class="page-title">Meu Perfil</h1>
    <form method="POST" style="display: flex; flex-direction: column; gap: 12px;">
      {% csrf_token %}

      <div>
        <label for="id_first_name">Nome</label>
        <input id="id_first_name" name="first_name" class="input" type="text" value="{{ user_obj.first_name }}" placeholder="Seu nome">
      </div>

      <div>
        <label for="id_last_name">Sobrenome</label>
        <input id="id_last_name" name="last_name" class="input" type="text" value="{{ user_obj.last_name }}" placeholder="Seu sobrenome">
      </div>

      <div>
        <label for="id_email">Email</label>
        <input id="id_email" name="email" class="input" type="email" value="{{ user_obj.email }}" placeholder="seu@email.com">
      </div>

      <div style="display:flex; gap:10px; justify-content:flex-end; align-items:center; margin-top: 6px;">
        <a href="{% url 'boards:list' %}" class="btn-secondary btn-sm btn-open btn-equal">Cancelar</a>
        <button type="submit" class="btn-primary btn-sm btn-open btn-equal">Salvar</button>
      </div>
    </form>

    <hr style="margin: 18px 0;">
    <div style="display:flex; gap:10px; align-items:center; justify-content: space-between;">
      <span style="color: var(--muted);">Conectado como <strong>{{ user_obj.username }}</strong></span>
      <a href="{% url 'boards:logout' %}" class="btn-danger btn-sm btn-open" style="color: #ff6b6b;">Sair</a>
    </div>

    <hr style="margin: 18px 0;">
    <h2 class="page-title" style="font-size:20px;">Alterar senha</h2>
    <form method="POST" action="{% url 'boards:change_password' %}" style="display:flex; flex-direction: column; gap: 12px;">
      {% csrf_token %}
      <div>
        <label for="id_old_password">Senha atual</label>
        <input id="id_old_password" name="old_password" class="input" type="password" placeholder="Digite sua senha atual">
      </div>
      <div>
        <label for="id_new_password1">Nova senha</label>
        <input id="id_new_password1" name="new_password1" class="input" type="password" placeholder="Nova senha">
      </div>
      <div>
        <label for="id_new_password2">Confirmar nova senha</label>
        <input id="id_new_password2" name="new_password2" class="input" type="password" placeholder="Repita a nova senha">
      </div>
      <div style="display:flex; gap:10px; justify-content:flex-end; align-items:center;">
        <button type="submit" class="btn-primary btn-sm btn-open btn-equal">Alterar senha</button>
      </div>
    </form>
  </div>
</div>
{% endblock %}
